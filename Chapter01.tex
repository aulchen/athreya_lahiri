\documentclass{article}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{optidef}

\newenvironment{proof}{\paragraph{Proof:}}{\hfill$\square$}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

\usepackage{graphicx}
\graphicspath{ {images} }

\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}

\newcommand{\F}{\mathcal{F}}

	
\newcommand{\indep}{\perp \!\!\! \perp}

\newcommand{\prob}{\boldsymbol{P}}
\newcommand{\E}{\text{E}}
\newcommand{\var}{\text{Var}}
\newcommand{\cov}{\text{Cov}}
\newcommand{\tr}{\text{tr}}
\newcommand{\sd}{\text{SD}}
\newcommand{\se}{\text{SE}}
\newcommand{\dom}{\text{dom}}
\newcommand{\quartile}{\text{quartile}}

\newcommand{\trace}{\text{trace}}

\newcommand{\bin}{\text{Bin}}
\newcommand{\pois}{\text{Pois}}
\newcommand{\geom}{\text{Geom}}

\author{Arthur Chen}
\title{Athreya Lahiri Chapter 1 Solutions}
\date{\today}

\begin{document}

\maketitle

\section*{Problem 1.19}

Let $\Omega$ be a nonempty set and let $C \subset \mathcal{P} (\Omega)$ be a semialgebra. Let

\[
\mathcal{A}(C) = \{
A: A=\bigcup_{i=1}^k B_i:B_i \in C, i=1,2 \dots k, k\in \N
\}
\]

\subsection*{Part a}

Show that $\mathcal{A}(C)$ is the smallest algebra containing $C$.

\begin{lemma}
$\mathcal{A}(C)$ is an algebra.
\begin{proof}
For $\Omega \in \mathcal{A}(C)$, let $A\in C$ be arbitrary. Because $C$ is a semialgebra, $A^C = \bigcap_{i=1}^k B_i, B_i \in C$, so $A^C \in C$. Thus $A \cap A^C = \Omega \in \mathcal{A}(C)$.

For closure under compliments, $A \in \mathcal{A}(C)$ implies by definition that $A = \bigcup_{i=1}^k B_i, B_i \in C$, and taking compliments $A^C = \bigcap_{i=1}^k B_i^C$. Because $B_i \in C$ and $C$ is a semialgebra, each $B_i^C$ is the finite union of $C_j \in C$. Thus
\[
A^C = \bigcap_{i=1}^k\bigcup_{j=1}^{l_i}C_j
\]
Distributing the intersection, we get the union of a finite number of pairwise intersections, e.g. $A^C = (C_{11}\cap C_{12})\cup(C_{11}\cap C_{13})\cup \dots$. All of the pairwise intersections are in $C$, and thus their union is in $\mathcal{A}(C)$. Thus $A^C \in \mathcal{A}(C)$.

Closure under finite union is immediate. 
\end{proof}
\end{lemma}

Showing that $\mathcal{A}(C)$ is the smallest algebra containing $C$ is equivalent to showing that if $B$ is an algebra such that $C \subset B$, then $\mathcal{A}(C) \subset B$. But this is almost immediate. Let $M \in \mathcal{A}(C)$. By definition of $\mathcal{A}(C)$, $M = \bigcap_{i=1}^k M_k, M_k \in C, k \in \N$. Since $B$ is an algebra contain $C$, $M \in B$. Thus $\mathcal{A}(C) \subset B$, as desired.

\subsection*{Part b}

Show that $\sigma\langle C\rangle = \sigma\langle \mathcal{A}(C) \rangle$.

Trivially, $C \subset \mathcal{A}(C)$ implies $\sigma\langle C\rangle \subset \sigma\langle \mathcal{A}(C) \rangle$. For the reverse, let $M \in \sigma\langle \mathcal{A}(C) \rangle$. Then $M$ is the countable union of elements in $\mathcal{A}(C)$, and thus it is the countable union of elements in $C$ and thus in $\sigma\langle C\rangle$.

\section*{Problem 1.20}

Let $C$ be a semialgebra $\Omega$ with $\mu$ a measure on $C$. Let $\mu^*$ be the outer measure induced by $\mu^*$, defined as

\[
\mu^*(A) \coloneq \inf\Biggl\{
\sum_{n=1}^\infty \mu(A_n):\{A_n\}_{n\geq 1} \subset C, A \bigcup_{n\geq 1} A_n
\Biggr\}
\]

Show that $\mu^*$ satisfies the following three properties making it an outer measure:
\begin{itemize}
\item Non-negativity: $\mu^*(\emptyset) = 0$
\item Monotonicity: $A \subset B \Rightarrow \mu^*(A) \leq \mu^*(B)$
\item Countable sub-additivity: For any $\{A_n\}_{n \geq 1} \subset P(\Omega), \mu^*\left( \bigcup_{n\geq 1} A_n \right) \leq \sum_{n=1}^\infty \mu^*(A_n)$
\end{itemize}

\begin{lemma}
For a (non-empty) semi-algebra $C$, $\emptyset \in C$.
\begin{proof}
Let $A \in C$. Then $A^C = \bigcup_{i=1}^k B_i$, $k$ finite, $B_i \in C$. Then $A \cap B_i = \emptyset$, and since $C$ is closed to complements, $\emptyset \in C$.
\end{proof}
\end{lemma}

For non-negativity, $\emptyset \in C$ and $\mu(\emptyset) = 0$ imply $\mu^*(\emptyset) = 0$. For monotonicity, consider any cover of $B$ with sets in $C$. Then that cover also covers $A$. Since $\mu^*(A)$ is the infimum of the sum of the measures of sets in $C$ that cover $A$, monotonicity follows immediately.

For countable sub-additivity, if the sum on the right is infinite, then the result is immediate. Otherwise, $\mu^*(A_n) < \infty$ for all $n$ and the outer measures of $A_n$ decrease enough so that the sum is (absolutely) convergent.

Let $0 < \epsilon < \infty$. Since $\mu^*(A_n)$ is the infimum over covers of $A_n$ with elements in $C$, there exist $\{A_{nj}\}_{j \geq 1} \subset C$ such that

\[
\mu^*(A_n) \leq \sum_{j=1}^\infty \mu(A_{nj}) \leq \mu^*(A_n) + \frac{\epsilon}{2^n}
\]

The union of covers over the $A_n$, $\bigcup_{n \geq 1} \bigcup_{j \geq 1} A_{nj,}$ form a cover for $\bigcup_{n \geq 1} A_n$. Thus

\[
\mu^*\left( \bigcup_{n \geq 1} A_n \right) \leq
\mu\left( \bigcup_{n=1}\bigcup_{j=1} A_{nj} \right)
\leq \sum_{n=1}\sum_{j=1} \mu(A_{nj}) \leq \sum_{n=1}\left(\mu^*(A_n) + \frac{\epsilon}{2^n}\right)
\]

which proves the desired result.

\section*{Problem 1.22}

Let $F: \R \rightarrow \R$ be nondecreasing. Let $(a, b], (a_n, b_n], n \in \N$ be intervals in $\R$ such that $(a, b] = \bigcup_{n\geq 1} (a_n, b_n]$ and $\{(a_n, b_n]: n \geq 1 \}$ are disjoint. Let $\mu_F(\cdot)$ be

\begin{gather*}
\mu_F((a, b]) = F(b+) - F(a+) \\
\mu_F((a, \infty)) = F(\infty) - F(a+)
\end{gather*}

Show that $\mu_F((a, b]) = \sum_{n=1}^\infty \mu_F((a_n, b_n])$ and is thus countably additive with the following:

\subsection*{Part b}

Assume wlog that $F(\cdot)$ is right continuous (which follows trivially from the definition). Show that for any $k \in \N$,

\[
F(b) - F(a) \geq \sum_{i=1}^k(F(b_i) - F(a_i))
\]

which implies that 

\[
F(b) - F(a) \geq \sum_{i=1}^\infty(F(b_i) - F(a_i))
\]

Wlog, assume that the intervals are indexed so that $a_{i+1} > a_i$. Choose $k$ of the intervals, being sure to choose the $a_1 = a$ and $a_k$ corresponding to the interval with right endpoint $b$. Since the intervals are disjoint, $b_{i-1} \leq a_i$ and since $F$ is nondecreasing, this implies that $F(b_{i-1}) \leq F(a_i)$. Thus by telescoping,

\begin{align*}
F(b) - F(a) &= \sum_{i=2}^k F(b_i) - F(b_{i-1}) + F(b_1) - F(a) \\
&\geq \sum_{i=1}^k F(b_i) - F(a_i)
\end{align*}
for all $k$, which implies the desired result.

\subsection*{Part c}

Fix $\eta > 0$. Choose $c>a$ and $d_n > b_n, n \geq 1$ such that
\begin{gather*}
F(c) - F(a) < \eta \\
F(d_n) - F(b_n) < \frac{\eta}{2^n}
\end{gather*}

We know that $\{(a_n, d_n)\}_{n \geq 1}$ is an open cover for $[c, b]$, so by the Heine-Borel theorem, there exists a finite subcover $\{(a_i, d_i)\}_{i=1}^k$ for $[c, b]$. Wlog, index the intervals in the finite subcover such that $c \in (a_1, d_1)$ and $b \in (a_k, d_k)$. Thus letting $b_k$ be the $b_i$ that corresponds to $d_k$,

\begin{align*}
F(b) - F(a) &= F(b_k) - F(a_k) + F(a_k) - \dots +F(a_1) - F(a) \\
&\leq F(d_k) - F(a_k) + F(d_{k-1}) - F(a_{k-1}) + \dots + F(c) - F(a) \\
&\leq \sum_{i=1}^k \left(F(b_i) - F(a_i) + \frac{\eta}{2^n}\right) + \eta \\
&\leq \sum_{i=1}^k F(b_i) - F(a_i) + 2\eta
\end{align*}

which implies the desired result.

\end{document}